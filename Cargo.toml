[package]
name = "dos-actors"
version = "0.1.0"
edition = "2021"

[dependencies]
flume = "0.10.9"
futures = "0.3.19"
quote = "1.0.14"
syn = "1.0.85"
thiserror = "1.0.30"
tokio = { version = "1.15.0", features = ["macros", "rt-multi-thread", "sync"] }
parse-monitors = { git = "https://github.com/rconan/parse-monitors.git", branch = "main", optional = true}
fem = { version = "^0.2", package = "gmt-fem" , optional = true}
mount-ctrl = { version = "^0.2" , optional = true}
m1-ctrl = { version = "0.1.1", default-features = false, features = ["dos-prqt"], optional = true }
log = "0.4.14"
arrow = { version = "7.0.0", optional = true }
parquet = { version = "7.0.0", optional = true }
rand = { version = "0.8.4", optional = true }
rand_distr = { version = "0.4.3", optional = true }
paste = "1.0.6"
geotrans = "^0.2"
async-trait = "0.1.52"

[patch.crates-io]
m1-ctrl = { path = "../m1-ctrl" }

[features]
windloads = ["parse-monitors"]
apache-arrow = ["arrow", "parquet"]
noise = ["rand", "rand_distr"]
sampler = []
feedback = []

[dev-dependencies]
anyhow = "1.0.52"
complot = "0.3.2"
rand = "0.8.4"
rand_distr = "0.4.3"
simple_logger = "2.1.0"
dosio = { version = "^0.1", default-features = false, features = ["prqt"] }
welch-sde = { path = "../welch-sde" }
structopt = "0.3.26"
